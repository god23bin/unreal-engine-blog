---
title: 蓝图中的一些函数
date: 2024/6/12 20:23:25
index_img: https://pic-bed-of-god23bin.oss-cn-shenzhen.aliyuncs.com/img/image-20240620130703417.png
banner_img: https://pic-bed-of-god23bin.oss-cn-shenzhen.aliyuncs.com/img/image-20240620130703417.png
categories:
  - Unreal Engine
tag:
  - 函数
  - 蓝图
published: true
---

## Find Look at Rotation 函数介绍

**Find Look at Rotation** 函数是 Unreal Engine 蓝图中用于计算从一个位置指向另一个位置的旋转值（Rotator）。该函数在需要使物体面向某个目标方向时非常有用。

![](https://pic-bed-of-god23bin.oss-cn-shenzhen.aliyuncs.com/img/image-20240620130703417.png)

### 作用

- **计算旋转方向**：函数根据起始位置和目标位置计算出一个 Rotator，使起始位置的物体面向目标位置。

### 使用场景

1. AI 角色面向目标

   AI 角色需要面向玩家或者其他目标时，可以使用此函数计算需要的旋转。

2. 武器瞄准

   武器需要瞄准目标时，通过 Find Look at Rotation 获取旋转值，使武器指向目标。

3. 摄像机跟随

   在追踪摄像机系统中，可以使用此函数来计算摄像机应如何旋转以保持目标在视野内。

### 参数

- **Start (Vector)**: 起始位置，即当前物体的位置。
- **Target (Vector)**: 目标位置，即希望物体面向的位置。

### 返回值

- **Return Value (Rotator)**: 使起始位置的物体面向目标位置的旋转值。

### 使用方法

1. **添加节点**：
   - 在蓝图编辑器中，右键点击空白区域，搜索 `Find Look at Rotation` 并添加该节点。
2. **设置起始位置和目标位置**：
   - 连接起始位置和目标位置的 Vector 输入。例如，可以使用角色或物体的位置作为起始位置，目标物体的位置作为目标位置。
3. **使用返回的 Rotator**：
   - 通过连接 `Find Look at Rotation` 的输出到其他需要使用该旋转值的节点，可以将计算出的旋转值应用于物体。

### 示例

假设需要让一个角色面向一个目标点，可以按照以下步骤实现：

1. 获取角色的位置和目标位置（例如，玩家位置和敌人位置）。
2. 使用 `Find Look at Rotation` 计算从角色位置到目标位置的旋转值。
3. 将返回的 Rotator 应用到角色的旋转上。

蓝图实现如下图所示：

- **步骤 1**：获取角色位置和目标位置的节点。
- **步骤 2**：将这些位置连接到 `Find Look at Rotation` 节点的输入。
- **步骤 3**：将输出的 Rotator 连接到设置角色旋转的节点（例如，`Set Actor Rotation`）。

通过这种方式，可以轻松实现物体面向目标的逻辑，非常适用于各种需要目标追踪和面向的场景。

### 总结

**Find Look at Rotation** 函数在 Unreal Engine 蓝图中提供了一个便捷的方法来计算物体从一个位置到另一个位置的旋转值，广泛应用于角色面向、武器瞄准和摄像机跟随等场景。通过理解其参数和返回值，并结合实际应用场景，可以有效地使用此函数来实现多种复杂的面向逻辑。

## RInterp To 函数介绍

**RInterp To** 函数是 Unreal Engine 蓝图中用于在两个旋转值之间进行平滑插值的函数。它通常用于需要在一段时间内逐步旋转到目标方向的情况。

![](https://pic-bed-of-god23bin.oss-cn-shenzhen.aliyuncs.com/img/image-20240620130942373.png)

### 作用

- **平滑旋转**：该函数在当前旋转值与目标旋转值之间进行插值，使旋转过程更加平滑和自然。

### 使用场景

1. 相机旋转

   平滑地将相机旋转到一个新的视角位置。

2. 角色转向

   让角色平滑地转向目标方向，避免突然转向带来的不自然感。

3. 机械部件旋转

   机械臂或其他旋转部件平滑地移动到指定角度。

### 参数

- **Current (Rotator)**: 当前的旋转值。
- **Target (Rotator)**: 目标的旋转值。
- **Delta Time (Float)**: 每帧的时间增量（通常使用 `Get World Delta Seconds`）。
- **Interp Speed (Float)**: 插值速度，控制插值过程的快慢。

### 返回值

- **Return Value (Rotator)**: 计算后的插值旋转值，用于更新旋转。

### 使用方法

1. **添加节点**：
   - 在蓝图编辑器中，右键点击空白区域，搜索 `RInterp To` 并添加该节点。
2. **设置参数**：
   - 连接当前旋转值和目标旋转值的 Rotator 输入。
   - 将 `Delta Time` 设置为 `Get World Delta Seconds` 的返回值。
   - 设置插值速度（`Interp Speed`）为一个浮点值，根据需要调整。
3. **应用返回的 Rotator**：
   - 通过将返回的 Rotator 连接到设置旋转的节点（例如，`Set Actor Rotation`），将计算出的插值旋转值应用于物体。

### 示例

假设需要让一个角色平滑地转向一个目标，可以按照以下步骤实现：

1. 获取角色的当前旋转和目标旋转。
2. 使用 `RInterp To` 计算平滑插值后的旋转值。
3. 将返回的 Rotator 应用到角色的旋转上。

蓝图实现如下图所示：

- **步骤 1**：获取角色的当前旋转和目标旋转。
- **步骤 2**：将这些旋转值连接到 `RInterp To` 节点的输入，并设置 `Delta Time` 和 `Interp Speed`。
- **步骤 3**：将输出的 Rotator 连接到设置角色旋转的节点（例如，`Set Actor Rotation`）。

通过这种方式，可以实现平滑的旋转效果，适用于各种需要平滑转向和旋转的场景。

### 总结

**RInterp To** 函数在 Unreal Engine 蓝图中提供了一种平滑插值旋转的方法，广泛应用于相机旋转、角色转向和机械部件旋转等场景。通过理解其参数和返回值，并结合实际应用场景，可以有效地使用此函数来实现自然的旋转过渡效果。

## Clamp 函数介绍

**Clamp** 函数在 Unreal Engine 蓝图中是一个常用的数学函数，用于将一个值限制在一个指定的范围内。其主要作用是确保一个数值不会超出预设的最小值和最大值范围。

![](https://pic-bed-of-god23bin.oss-cn-shenzhen.aliyuncs.com/img/image-20240620160240028.png)

### 作用

- **限制数值范围**：将一个数值限定在指定的最小值和最大值之间。如果数值小于最小值，则返回最小值；如果数值大于最大值，则返回最大值；如果数值在范围内，则返回该数值本身。

### 使用场景

1. 角色属性

   ：

   - 限制角色的生命值、魔法值等属性在合理范围内，防止超出最大值或小于最小值。

2. 物体位置

   ：

   - 限制物体移动范围，例如在二维游戏中限制角色在屏幕边界内移动。

3. 输入值校正

   ：

   - 对用户输入的数值进行校正，确保输入值在预设范围内，防止异常值导致错误行为。

4. 动画参数

   ：

   - 限制动画参数的范围，确保动画播放的属性值在合理范围内。

### 参数

- **Value (Float)**: 需要限制的数值。
- **Min (Float)**: 最小值。
- **Max (Float)**: 最大值。

### 返回值

- **Return Value (Float)**: 限制后的数值，如果 `Value` 小于 `Min`，则返回 `Min`；如果 `Value` 大于 `Max`，则返回 `Max`；否则返回 `Value`。

### 使用方法

1. **添加节点**：
   - 在蓝图编辑器中，右键点击空白区域，搜索 `Clamp` 并添加该节点。
2. **设置参数**：
   - 连接需要限制的数值到 `Value` 输入。
   - 设置最小值 `Min` 和最大值 `Max` 为浮点数。
3. **应用返回的数值**：
   - 将返回的数值用于后续计算或设置属性。

### 示例

假设需要限制角色的生命值在 0 到 100 之间，可以按照以下步骤实现：

1. 获取角色的当前生命值。
2. 使用 `Clamp` 节点将生命值限制在 0 到 100 之间。
3. 将返回的数值应用到角色的生命值属性。

蓝图实现如下图所示：



- **步骤 1**：获取角色的当前生命值。
- **步骤 2**：将生命值连接到 `Clamp` 节点的 `Value` 输入，并设置 `Min` 为 0，`Max` 为 100。
- **步骤 3**：将输出的数值用于设置角色的生命值。

总结

**Clamp** 函数在 Unreal Engine 蓝图中提供了一种简单而有效的方法来限制数值范围，广泛应用于角色属性限制、物体位置约束、输入值校正和动画参数控制等场景。通过理解其参数和返回值，并结合实际应用场景，可以有效地使用此函数来确保数值在合理范围内，避免异常值导致的错误行为。

